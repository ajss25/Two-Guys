{% extends "base.html" %}
{% block title %}Employees, Managers & Locations{% endblock %}
{% block content %}
<!-- <div class="employees-locations-wallpaper wallpapers"></div> -->
<h2 class="page-description orange-header">Add/Edit/Delete for Employees, Managers & Locations (entities)</h2>
<h4 class="header1">Employees and Managers</h4>
<div class="search-box-scroll employees-locations">
	<table>
		<thead>
			<tr>
				{% for header in headers %}
				<th>{{ header }}</th>
				{% endfor %}
			</tr>
		</thead>
		<tbody>
			<tr>
				{% for infos in data %}
				<tr>
					{% for info in infos %}
					<td>{{ info }}</td>
					{% endfor %}
					<td>
						<input type="button" value="Edit">
					</td>
					<td>
						<input type="button" value="Delete">
					</td>
				</tr>
				{% endfor %}
			</tr>
		</tbody>
	</table>
</div>

<h4 class="header1">Locations</h4>
<div class="search-box-scroll locations-overview">
	<table class="center">
		<thead>
			<tr>
				{% for header in location_headers %}
				<th>{{ header }}</th>
				{% endfor %}
			</tr>
		</thead>
		<tbody>
			<tr>
				{% for location in location_data %}
			<tr>
				{% for value in location[:-1] %}
				<td>{{ value }}</td>
				{% endfor %}
				<td>
					<div class="container">
						<input type='button' name='Edit' value='Edit' data-bs-toggle="modal" data-bs-target="#edit-modal_suppliers{{location[-1]}}">
						<div class="modal" id="edit-modal_suppliers{{location[-1]}}">
							<div class="modal-dialog modal-dialog-centered">
								<div class="modal-content">
									<div class="modal-header">
										<h5 class="modal-title">Put your new info here! For Store ID: {{location[-1]}}</h5>
										<button type="button" class="btn-close" data-bs-dismiss="modal"></button>
									</div>
									<div class="modal-body">
										<form action="/update_location/{{location[-1]}}" method="POST">

											<div>
												<label class="form-label">City</label>
												<input type="text" class="form-control" name="location_city" value={{location[0]}}>
											</div>
											<div>
												<label class="form-label">State</label>
												<input type="text" class="form-control" name="location_state" value={{location[1]}}>
											</div>
											<div>
												<label class="form-label">Zip Code</label>
												<input type="text" class="form-control" name="location_zip_code" value={{location[2]}}>
											</div>
											<div class="modal-footer">
												<input type='submit' name='Update' value='Update'>
												<input type='button' name='Cancel' value='Cancel' data-bs-dismiss="modal">
											</div>
										</form>
									</div>
								</div>
							</div>
						</div>
					</div>
				</td>
				<td>
					<input type='button' name='Delete' value='Delete' onclick="window.location = '/delete_location/{{location[-1]}}'">
				</td>
			</tr>
			{% endfor %}
		</tbody>
	</table>
</div>

<div class="row">
	<div class="col-sm-6">
		<form action="", method="POST">
			{{ emp_man_form.hidden_tag() }}
			<fieldset>
				<legend><span class="span-bg">Add a new employee/manager</span></legend>
				<div>
					{{ emp_man_form.first_name.label(class="span-bg") }}
					{{ emp_man_form.first_name }}
				</div>
				<div>
					{{ emp_man_form.last_name.label(class="span-bg") }}
					{{ emp_man_form.last_name }}
				</div>
				<div>
					{{ emp_man_form.start_date.label(class="span-bg") }}
					{{ emp_man_form.start_date }}
				</div>
				<div>
					{{ emp_man_form.status.label(class="span-bg") }}
					{{ emp_man_form.status }}
					{{ emp_man_form.manager.label(class="span-bg") }}
					{{ emp_man_form.manager }}
				</div>
				<div>
					{{ emp_man_form.managed_by.label(class="span-bg") }}
					{{ emp_man_form.managed_by }}
				</div>
				<div>
					{{ emp_man_form.store.label(class="span-bg") }}
					{{ emp_man_form.store }}
				</div>
				<div>
					{{ emp_man_form.add }}
				</div>
			</fieldset>
		</form>
	</div>

	<div class="col-sm-6"> 
		<form action="#", method="POST">
			{{ loc_form.hidden_tag() }}
			<fieldset>
				<legend><span class="span-bg">Add a store location</span></legend>
				<div>
					{{ loc_form.city.label(class="span-bg") }}
					{{ loc_form.city }}
				</div>
				<div>
					{{ loc_form.state.label(class="span-bg") }}
					{{ loc_form.state }}
				</div>
				<div>
					{{ loc_form.zip_code.label(class="span-bg") }}
					{{ loc_form.zip_code }}
				</div>
				<div>
					{{ loc_form.add }}
				</div>
			</fieldset>
		</form>
	</div>
</div>
{% endblock content %}